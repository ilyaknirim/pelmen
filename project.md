# Техническое задание: Telegram Mini App "Псков: Путешествие Лёхи"

## 1. Общие сведения о проекте

**Название:** "Псков: Путешествие Лёхи"

**Целевая платформа:** Telegram Mini App (с адаптацией под мобильные устройства)

**Целевая аудитория:** Подростки 12-16 лет, интересующиеся историей и играми

**Основная идея:** Интерактивное образовательное приложение в стиле RPG, где пользователь сопровождает подростка Лёху в исследовании исторических мест Пскова, выполняя задания и узнавая интересные факты о городе.

**Технологии:** HTML5, CSS3, JavaScript (Vanilla), Telegram WebApp API

## 2. Основные требования

### 2.1. Функциональные требования

1. **Интерфейс и навигация:**
   - Адаптивный дизайн под смартфоны (320px - 768px)
   - Встроенная навигация по локациям
   - Инвентарь для собираемых предметов
   - Журнал выполненных заданий и открытых достижений
   - Карта города с основными точками интереса

2. **Игровая механика:**
   - Система диалогов с персонажами
   - Система квестов (основных и побочных)
   - Система сбора предметов (артефактов)
   - Мини-игры для закрепления информации
   - Система достижений

3. **Контент:**
   - 7 основных локаций с историческими справками
   - 5 персонажей для взаимодействия
   - 12+ исторических артефактов для сбора
   - 8+ квестов различной сложности

### 2.2. Нефункциональные требования

1. **Производительность:**
   - Время загрузки приложения < 3 секунд
   - Плавная анимация (60 FPS)
   - Оптимизация графики для мобильных устройств

2. **Совместимость:**
   - Поддержка последних версий iOS Safari и Android Chrome
   - Интеграция с Telegram WebApp API
   - Корректное отображение на экранах от 320px до 768px

## 3. Сюжет и контент

### 3.1. Главный персонаж

**Лёха:** 14-летний подросток с необычной прической ("патлатый"), приезжает в Псков на летние каникулы к родственникам. Любопытный, немного скептичный, но увлекающийся. Имеет смартфон, который помогает ему в путешествии (интерфейс инвентаря и карты стилизован под смартфон).

### 3.2. Основные локации

1. **Псковский Кремль (Кром)**
   - История основания (903 год)
   - Архитектура стен и башен
   - Троицкий собор
   - Интерактивная мини-игра: "Построй стену Кремля"

2. **Памятник княгине Ольге**
   - История княгини Ольги (первая женщина-правитель на Руси)
   - Легенда о ее встрече с князем Игорем
   - Задание: найти скрытые символы на памятнике

3. **Набережные рек Псковы и Великой**
   - История торгового пути "Из варяг в греки"
   - Архитектура старых купеческих домов
   - Мини-игра: "Торговый путь"

4. **Довмонтов город**
   - История князя Довмонта
   - Археологические находки
   - Квест: "Раскопки"

5. **Поганкины палаты**
   - История купца Поганкина
   - Коллекция музея
   - Задание: найти спрятанные предметы в палатах

6. **Гремячая башня**
   - Легенды и предания
   - Архитектура оборонительных сооружений
   - Мини-игра: "Защита башни"

7. **Псковский историко-художественный музей**
   - Ключевые экспонаты
   - История создания
   - Финальный квест: "Музейный детектив"

### 3.3. Второстепенные персонажи

1. **Дед Иван** (родственник) - дает основные задания
2. **Экскурсовод Мария** - предоставляет исторические справки
3. **Местный подросток Кирилл** - помогает ориентироваться в городе
4. **Художник-реставратор** - дает задания по поиску деталей
5. **Сторож музея** - финальный персонаж

## 4. Техническая архитектура

### 4.1. Структура проекта

```
/pskov-leha-tg-app
│
├── index.html          # Основной файл
├── style.css          # Основные стили
├── game.js           # Основная игровая логика
├── tg-api.js         # Интеграция с Telegram API
├── data/             # Данные игры
│   ├── locations.json
│   ├── characters.json
│   ├── quests.json
│   └── items.json
├── images/           # Графика
│   ├── characters/
│   ├── locations/
│   ├── items/
│   └── ui/
├── audio/            # Звуковые эффекты
│   ├── music/
│   └── sfx/
└── fonts/            # Шрифты
```

### 4.2. Компоненты интерфейса

1. **Экран загрузки** - анимация загрузки с логотипом
2. **Главное меню** - кнопки: "Начать игру", "Продолжить", "Достижения", "Справка"
3. **Игровой экран** - разделен на:
   - Область отображения локации (60%)
   - Диалоговое окно (25%)
   - Панель действий (15%)
4. **Инвентарь** - сетка предметов в стиле смартфона
5. **Карта** - интерактивная карта Пскова с активными точками

## 5. TODO список разработки

### Фаза 1: Подготовка и планирование (2 дня)
- [ ] Создать детальный план проекта
- [ ] Собрать исторические материалы о Пскове
- [ ] Создать дизайн-макеты основных экранов
- [ ] Настроить среду разработки

### Фаза 2: Базовая структура (3 дня)
- [ ] Создать HTML-структуру приложения
- [ ] Реализовать адаптивную CSS-сетку
- [ ] Настроить базовую JavaScript-логику
- [ ] Интегрировать Telegram WebApp API

### Фаза 3: Игровые системы (5 дней)
- [ ] Реализовать систему диалогов
- [ ] Создать систему квестов
- [ ] Разработать инвентарь
- [ ] Реализовать карту локаций
- [ ] Создать систему сохранения прогресса

### Фаза 4: Контент локаций (7 дней)
- [ ] Создать локацию "Псковский Кремль"
- [ ] Создать локацию "Памятник княгине Ольге"
- [ ] Создать локацию "Набережные рек"
- [ ] Создать локацию "Довмонтов город"
- [ ] Создать локацию "Поганкины палаты"
- [ ] Создать локацию "Гремячая башня"
- [ ] Создать локацию "Музей"

### Фаза 5: Мини-игры и интерактив (4 дня)
- [ ] Мини-игра "Построй стену Кремля"
- [ ] Мини-игра "Торговый путь"
- [ ] Мини-игра "Раскопки"
- [ ] Мини-игра "Защита башни"
- [ ] Финальный квест "Музейный детектив"

### Фаза 6: Полировка и тестирование (3 дня)
- [ ] Добавить анимации и переходы
- [ ] Оптимизировать производительность
- [ ] Протестировать на разных устройствах
- [ ] Исправить баги и недочеты

## 6. Особенности реализации

### 6.1. Стиль графики
- Пиксель-арт в стиле RPG in a Box
- Цветовая палитра, отражающая историческую атмосферу
- Персонажи в стилизованном виде (Лёха с узнаваемой прической)

### 6.2. Интерактивные элементы
- Тапы по объектам для получения информации
- Свайпы для перехода между частями локации
- Долгое нажатие для детального просмотра предметов

### 6.3. Образовательный компонент
- Исторические факты подаются через диалоги
- Мини-игры основаны на реальных исторических событиях
- Постепенное раскрытие информации

## 7. Интеграция с Telegram

- Использование Telegram WebApp API для аутентификации
- Кнопка "Поделиться" с друзьями в Telegram
- Система достижений с публикацией в профиле
- Сохранение прогресса в облаке Telegram

## 8. Критерии приемки

1. Приложение корректно работает в Telegram на iOS и Android
2. Все локации доступны для посещения
3. Квесты можно выполнить от начала до конца
4. Историческая информация подается корректно
5. Производительность на мобильных устройствах удовлетворительная
6. Интерфейс интуитивно понятен целевой аудитории

---

## Приложение: Исторические материалы для разработки

### Краткая историческая справка о Пскове:
- Первое упоминание: 903 год в Повести временных лет
- Основатель: княгиня Ольга (по преданию)
- Расцвет: XIV-XVI века как центр Псковской республики
- Ключевые события: Ледовое побоище (1242), оборона от Стефана Батория (1581)

### Княгиня Ольга:
- Первая женщина-правитель на Руси
- Крещение в Константинополе (957)
- Реформы управления и налогообложения
- Канонизирована как святая

### Псковский Кром:
- Площадь: 3 гектара
- Протяженность стен: 9 км (сохранилось 70%)
- Башни: 7 сохранившихся из 40
- Троицкий собор: 4-е по счету здание (1699)

---

Это ТЗ является основой для разработки Telegram Mini App. Все элементы могут быть уточнены в процессе разработки с учетом технических возможностей и обратной связи от тестирования.